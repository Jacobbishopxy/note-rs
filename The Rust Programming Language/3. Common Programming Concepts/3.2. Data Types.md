# æ•°æ®ç±»å‹

ä»»æ„ä¸€ä¸ªå€¼åœ¨ Rust ä¸­éƒ½æœ‰å…¶æŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å°†ä¼šå­¦ä¹ åˆ°ä¸¤ä¸ªæ•°æ®ç±»å‹çš„å­é›†ï¼šscalar å’Œ compoundï¼ˆæ ‡é‡å’Œå¤åˆï¼‰ã€‚

æ—¶åˆ»è®°ä½ Rust æ˜¯ä¸€é—¨é™æ€ç±»å‹è¯­è¨€ï¼Œä¹Ÿå°±æ„å‘³ç€å®ƒåœ¨ç¼–è¯‘æ—¶æœŸå¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚ä¸€èˆ¬æ¥è¯´ç¼–è¯‘å™¨å¯ä»¥æ ¹æ®å€¼å’Œæˆ‘ä»¬ä½¿ç”¨å€¼çš„æ–¹å¼æ¥æ¨å¯¼å€¼çš„ç±»å‹ã€‚å¦‚æœè¯´åƒç¬¬äºŒç« é‚£æ ·ç”¨`parse`æŠŠ`String`è½¬æ¢æˆæ•°å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åŠ ä¸Šç±»å‹å£°æ˜ï¼š

```rust
let guess: u32 = "42".parse().expect("Not a number!");
```

å¦‚æœæˆ‘ä»¬ä¸åŠ ä¸Šï¼ŒRust ä¼šæŠ¥é”™å¹¶æé†’æˆ‘ä»¬å®ƒéœ€è¦æ›´å¤šçš„ä¿¡æ¯æ¥ç¡®ä¿ç±»å‹ï¼š

```null
$ cargo build
   Compiling no_type_annotations v0.1.0 (file:///projects/no_type_annotations)
error[E0282]: type annotations needed
 --> src/main.rs:2:9
  |
2 |     let guess = "42".parse().expect("Not a number!");
  |         ^^^^^ consider giving `guess` a type

error: aborting due to previous error

For more information about this error, try `rustc --explain E0282`.
error: could not compile `no_type_annotations`

To learn more, run the command again with --verbose.
```

## æ ‡é‡

Rust æœ‰å››ç§æ ‡é‡ï¼šæ•´æ•°ï¼Œæµ®ç‚¹æ•°ï¼Œå¸ƒå°”ï¼Œå­—ç¬¦ã€‚

### æ•´æ•°ç±»å‹

å…¶ä¸­ i è¡¨ç¤ºå¸¦ç¬¦å·çš„æ•´æ•°ï¼Œu è¡¨ç¤ºæ— ç¬¦å·æ•´æ•°ï¼ˆç¬¦å·ï¼šæ­£è´Ÿï¼‰ã€‚

| Length  | Signed | Unsigned |
| ------- | ------ | -------- |
| 8-bit   | i8     | u8       |
| 16-bit  | i16    | u16      |
| 32-bit  | i32    | u32      |
| 64-bit  | i64    | u64      |
| 128-bit | i128   | u128     |
| arch    | isize  | usize    |

...

æ•´æ•°çš„è¡¨è¿°æ–¹å¼ï¼š

| Number literals | Example     |
| --------------- | ----------- |
| Decimal         | 98_222      |
| Hex             | 0xff        |
| Octal           | 0o77        |
| Binary          | 0b1111_0000 |
| Byte (u8 only)  | b'A'        |

...

### æµ®ç‚¹æ•°å‹

Rust æœ‰ä¸¤ç§æµ®ç‚¹æ•°å‹ï¼š`f32`å’Œ`f64`ã€‚

...

### æ•°å­¦è¿ç®—

```rust
fn main() {
    // addition
    let sum = 5 + 10;

    // subtraction
    let difference = 95.5 - 4.3;

    // multiplication
    let product = 4 * 30;

    // division
    let quotient = 56.7 / 32.2;

    // remainder
    let remainder = 43 % 5;
}
```

### å¸ƒå°”å‹

```rust
fn main() {
    let t = true;

    let f: bool = false; // with explicit type annotation
}
```

### å­—ç¬¦å‹

Rust ä½¿ç”¨`char`è¡¨ç¤ºå­—ç¬¦å‹ï¼Œæ³¨æ„å­—ç¬¦ä½¿ç”¨å•å¼•å·ï¼Œå­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·ï¼š

```rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ğŸ˜»';
}
```

...

## å¤åˆç±»å‹

*å¤åˆç±»å‹*ç”¨äºç»„åˆå¤šç§ç±»å‹äºä¸€ç§ç±»å‹ã€‚Rust æœ‰ä¸¤ç§åŸå§‹ç»„åˆå‹ï¼štuples å’Œ arraysï¼ˆå…ƒç»„å’Œæ•°ç»„ï¼‰ã€‚

### å…ƒç»„ç±»å‹

å…ƒç»„æœ‰å›ºå®šçš„é•¿åº¦ï¼šä¸€æ—¦è¢«å£°æ˜åˆ™ä¸å…è®¸ä¿®æ”¹å…¶é•¿åº¦ï¼š

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

è·å–å…ƒç»„ä¸­çš„å€¼å¯ä»¥ä½¿ç”¨è§£æ„ï¼š

```rust
fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!("The value of y is: {}", y);
}
```

...

å¦å¤–æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‚¹`.`åŠ æ•°å­—ä»£è¡¨åºåˆ—æ¥è·å–å…ƒç»„çš„ä¸ªå€¼ï¼š

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
```

### æ•°ç»„ç±»å‹

æ•°ç»„é‡Œçš„ä¸ªå€¼éœ€è¦ä¸ºåŒä¸€ç§ç±»å‹ï¼Œå¹¶ä¸”ä¸åŒäºå…¶ä»–è¯­è¨€çš„åœ°æ–¹ï¼ŒRust çš„æ•°ç»„çš„é•¿åº¦ä¹Ÿæ˜¯å›ºå®šçš„ï¼š

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
}
```

å½“ä½ æƒ³æŠŠä½ çš„æ•°æ®æ”¾åœ¨æ ˆé‡Œè€Œä¸æ˜¯å †é‡Œï¼Œæˆ–è€…ç¡®ä¿æ¯æ¬¡éƒ½èƒ½æ‹¿åˆ°å›ºå®šé•¿åº¦çš„å…ƒç´ ï¼Œé‚£ä¹ˆæ•°ç»„éå¸¸æœ‰ç”¨ã€‚æ•°ç»„æ²¡æœ‰ vector å‘é‡å‹é‚£ä¹ˆçµæ´»ã€‚ç”±æ ‡å‡†åº“æä¾›ï¼Œå‘é‡ä¸æ•°ç»„ç±»ä¼¼ï¼Œä½†æ˜¯å‘é‡å¯ä»¥æ”¹å˜é•¿åº¦ã€‚å¦‚æœä½ ä¸ç¡®å®šç”¨æ•°ç»„å’Œå‘é‡ï¼Œä½ å¤§æ¦‚ç‡éœ€è¦çš„æ˜¯å‘é‡ã€‚è¯¦ç»†å†…å®¹è§ç¬¬å…«ç« èŠ‚ã€‚

ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜æ•°ç»„å¯èƒ½æ¯”å‘é‡å¥½ï¼šå›ºå®šçš„å…ƒç´ ä¸éœ€è¦æ”¹å˜ã€‚

```rust
let months = ["January", "February", "March", "April", "May", "June", "July",
              "August", "September", "October", "November", "December"];
```

æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™ä¹ˆå£°æ˜æ•°ç»„ï¼Œæ–¹æ‹¬å·ä¸­å…ˆå£°æ˜å…ƒç´ ç±»å‹ç„¶ååœ¨åˆ†å·åå£°æ˜æ•°ç»„é•¿åº¦ï¼š

```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```

å£°æ˜æ•°ç»„ç±»å‹å’Œåˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„çš„å†™æ³•æœ‰ç‚¹ç›¸ä¼¼ã€‚å¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªç›¸åŒå…ƒç´ çš„æ•°ç»„ï¼š

```rust
let a = [3; 5];
```

`a`å°†ä¼šæ˜¯ 5 ä¸ªå€¼ä¸º 3 çš„æ•°ç»„ï¼Œä¸`let a = [3, 3, 3, 3, 3]`æ•ˆæœä¸€æ ·ï¼Œä½†æ˜¯çœ‹èµ·æ¥æ›´åŠ ç®€æ´ã€‚

æ•°ç»„åœ¨æ ˆä¸Šæœ‰ç‹¬ç«‹çš„å†…å­˜åˆ†é…ï¼Œä½ å¯ä»¥ç”¨ç´¢å¼•è®¿é—®å†…éƒ¨å…ƒç´ ï¼š

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}
```

å¦‚æœä½ å°è¯•è·å–è¶…è¿‡æ•°ç»„é•¿åº¦çš„æ•°æ®æ—¶ï¼Œå¯ä»¥ç¼–è¯‘ä½†æ˜¯ä¹‹åè¿è¡Œæ—¶å°†ä¼šæŠ¥é”™ï¼š

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
    let index = 10;

    let element = a[index];

    println!("The value of element is: {}", element);
}
```

æ‰§è¡Œ`cargo run`ï¼š

```null
$ cargo run
   Compiling arrays v0.1.0 (file:///projects/arrays)
error: this operation will panic at runtime
 --> src/main.rs:5:19
  |
5 |     let element = a[index];
  |                   ^^^^^^^^ index out of bounds: the length is 5 but the index is 10
  |
  = note: `#[deny(unconditional_panic)]` on by default

error: aborting due to previous error

error: could not compile `arrays`

To learn more, run the command again with --verbose.
```

ç¼–è¯‘æ—¶æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯è¿”å›çš„ä¸€ä¸ª`runtime error`å¹¶ä¸èƒ½æˆåŠŸé€€å‡ºã€‚è¿™ç§æƒ…å†µ Rust ä¼š panicã€‚...ç¬¬ä¹ç« ä¼šè¯¦ç»†è®¨è®º Rust çš„é”™è¯¯å¤„ç†ã€‚
